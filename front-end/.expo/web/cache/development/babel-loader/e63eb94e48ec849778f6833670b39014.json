{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _templateObject, _templateObject2;\n\nimport React, { useState } from \"react\";\nimport { styles } from \"./homeScreen.style\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { idToUpdate } from \"./getTodo\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar UPDATE_TODO = gql(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  mutation UpdateTodo($updateTodoId: Int!, $updateTodoDescription2: String!) {\\n    updateTodo(id: $updateTodoId, description: $updateTodoDescription2) {\\n      id\\n      description\\n      isFinished\\n    }\\n  }\\n\"])));\n\nvar UpdateTodo = function UpdateTodo() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      input = _useState2[0],\n      setInput = _useState2[1];\n\n  var _useMutation = useMutation(UPDATE_TODO, {\n    refetchQueries: [{\n      query: gql(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n          query Todos {\\n            todos {\\n              id\\n              description\\n              isFinished\\n            }\\n          }\\n        \"])))\n    }]\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      updateTodo = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error;\n\n  if (loading) return \"Updating...\";\n  if (error) return \"Update error! \" + error.message;\n\n  var onInputChange = function onInputChange(value) {\n    setInput(value);\n  };\n\n  var updateT = function updateT() {\n    updateTodo({\n      variables: {\n        id: idToUpdate,\n        description: input\n      }\n    });\n  };\n\n  return _jsxs(View, {\n    children: [_jsx(TextInput, {\n      placeholder: \"Enter new des here..\",\n      value: input,\n      onChangeText: onInputChange,\n      style: styles.inputTodo\n    }), _jsx(TouchableOpacity, {\n      testID: \"btn-signout\",\n      style: styles.Button1,\n      onPress: updateT,\n      children: _jsx(Text, {\n        style: {\n          color: \"#fff\"\n        },\n        children: \"Update\"\n      })\n    })]\n  });\n};\n\nexport default UpdateTodo;","map":{"version":3,"sources":["/Users/nelisoftwares/Projects/kevincheck/kevincheck/front-end/src/screens/postAuthScreens/home/updateTodo.tsx"],"names":["React","useState","styles","useMutation","gql","idToUpdate","UPDATE_TODO","UpdateTodo","input","setInput","refetchQueries","query","updateTodo","loading","error","message","onInputChange","value","updateT","variables","id","description","inputTodo","Button1","color"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT;AACA,SAASC,WAAT,EAAsBC,GAAtB,QAAiC,gBAAjC;;;;;AAEA,SAASC,UAAT;;;AAGA,IAAMC,WAAW,GAAGF,GAAH,kSAAjB;;AAUA,IAAMG,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,kBAA0BN,QAAQ,CAAS,EAAT,CAAlC;AAAA;AAAA,MAAOO,KAAP;AAAA,MAAcC,QAAd;;AAEA,qBAAyCN,WAAW,CAACG,WAAD,EAAc;AAChEI,IAAAA,cAAc,EAAE,CACd;AACEC,MAAAA,KAAK,EAAEP,GAAF;AADP,KADc;AADgD,GAAd,CAApD;AAAA;AAAA,MAAOQ,UAAP;AAAA;AAAA,MAAqBC,OAArB,kBAAqBA,OAArB;AAAA,MAA8BC,KAA9B,kBAA8BA,KAA9B;;AAeA,MAAID,OAAJ,EAAa,OAAO,aAAP;AACb,MAAIC,KAAJ,EAAW,0BAAwBA,KAAK,CAACC,OAA9B;;AAEX,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAgB;AACpCR,IAAAA,QAAQ,CAACQ,KAAD,CAAR;AACD,GAFD;;AAIA,MAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpBN,IAAAA,UAAU,CAAC;AACTO,MAAAA,SAAS,EAAE;AACTC,QAAAA,EAAE,EAAEf,UADK;AAETgB,QAAAA,WAAW,EAAEb;AAFJ;AADF,KAAD,CAAV;AAMD,GAPD;;AASA,SACE,MAAC,IAAD;AAAA,eACE,KAAC,SAAD;AACE,MAAA,WAAW,EAAC,sBADd;AAEE,MAAA,KAAK,EAAEA,KAFT;AAGE,MAAA,YAAY,EAAEQ,aAHhB;AAIE,MAAA,KAAK,EAAEd,MAAM,CAACoB;AAJhB,MADF,EAOA,KAAC,gBAAD;AACE,MAAA,MAAM,EAAC,aADT;AAEE,MAAA,KAAK,EAAEpB,MAAM,CAACqB,OAFhB;AAGE,MAAA,OAAO,EAAEL,OAHX;AAAA,gBAKE,KAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEM,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AALF,MAPA;AAAA,IADF;AAkBD,CApDD;;AAsDA,eAAejB,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { styles } from \"./homeScreen.style\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { Text, TouchableOpacity, View, TextInput } from \"react-native\";\nimport { idToUpdate } from \"./getTodo\";\n\n\nconst UPDATE_TODO = gql`\n  mutation UpdateTodo($updateTodoId: Int!, $updateTodoDescription2: String!) {\n    updateTodo(id: $updateTodoId, description: $updateTodoDescription2) {\n      id\n      description\n      isFinished\n    }\n  }\n`;\n\nconst UpdateTodo = () => {\n  const [input, setInput] = useState<string>(\"\");\n\n  const [updateTodo, { loading, error }] = useMutation(UPDATE_TODO, {\n    refetchQueries: [\n      {\n        query: gql`\n          query Todos {\n            todos {\n              id\n              description\n              isFinished\n            }\n          }\n        `,\n      },\n    ],\n  });\n  if (loading) return \"Updating...\";\n  if (error) return `Update error! ${error.message}`;\n\n  const onInputChange = (value: any) => {\n    setInput(value);\n  };\n\n  const updateT = () => {\n    updateTodo({\n      variables: {\n        id: idToUpdate,\n        description: input,\n      },\n    });\n  };\n\n  return (\n    <View>\n      <TextInput\n        placeholder=\"Enter new des here..\"\n        value={input}\n        onChangeText={onInputChange}\n        style={styles.inputTodo}\n      />\n    <TouchableOpacity\n      testID=\"btn-signout\"\n      style={styles.Button1}\n      onPress={updateT}\n    >\n      <Text style={{ color: \"#fff\" }}>Update</Text>\n    </TouchableOpacity>\n    </View>\n    \n  );\n};\n\nexport default UpdateTodo;\n"]},"metadata":{},"sourceType":"module"}